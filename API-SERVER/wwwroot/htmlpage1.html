<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <script src="http://res.wx.qq.com/open/js/jweixin-1.1.0.js"></script>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.js"></script>
    <script src="~/Script/WxScanQRCode.js"></script>
    <script>
        wx.config({
            debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
            appId: '@ViewBag.appid', // 必填，公众号的唯一标识
            timestamp: '@ViewBag.timestamp', // 必填，生成签名的时间戳
            nonceStr: '@ViewBag.noncestr', // 必填，生成签名的随机串
            signature: '@ViewBag.sinature',// 必填，签名
            jsApiList: ['checkJsApi',
                //这里的接口在官方文档中都有涉及，我们只需要调用微信扫一扫即可
                //'chooseImage',
                //'previewImage',
                // 'uploadImage',
                // 'downloadImage',
                //  'getNetworkType',//网络状态接口
                //  'openLocation',//使用微信内置地图查看地理位置接口
                //  'getLocation', //获取地理位置接口
                //  'hideOptionMenu',//界面操作接口1
                //  'showOptionMenu',//界面操作接口2
                //  'closeWindow',  ////界面操作接口3
                //  'hideMenuItems',////界面操作接口4
                //  'showMenuItems',////界面操作接口5
                //  'hideAllNonBaseMenuItem',////界面操作接口6
                //  'showAllNonBaseMenuItem',////界面操作接口7
                'scanQRCode'// 微信扫一扫接口
            ]
        });
            <!--开始扫描-->
            function scan() {
                wx.ready(function () {
                    var _scan = document.getElementById("url");
                    _scan.value = window.location.href;
                    wx.scanQRCode({
                        needResult: 1,
                        desc: 'scanQRCode desc',
                        success: function (res) {
                            alert(JSON.stringify(res));
                        }
                    });
                })
            }
    </script>
</head>
<body>
    <div>
        <input type="text" name="url" id="url">
        <button id="scanbutton" type="button" onclick="scan()">click here to scan</button>
    </div>
</body>
</html>